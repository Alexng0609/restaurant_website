{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}{{ item.name }} - Chi Ti·∫øt M√≥n{% endblock %}

{% block content %}

<style>
    .detail-container {
        max-width: 900px;
        margin: 2rem auto;
        background: var(--card-bg);
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 5px 20px var(--shadow);
    }

    .detail-image {
        width: 100%;
        height: 380px;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 2rem;
    }

    .detail-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .detail-title {
        font-size: 2rem;
        font-weight: bold;
        color: var(--text-color);
        margin-bottom: 1rem;
    }

    .detail-desc {
        font-size: 1.1rem;
        color: var(--text-color);
        opacity: 0.85;
        line-height: 1.6;
        margin-bottom: 1.5rem;
    }

    .detail-price {
        font-size: 2rem;
        font-weight: bold;
        color: #D4A843;
        margin-bottom: 1.5rem;
    }

    .availability {
        padding: 10px 18px;
        border-radius: 25px;
        font-weight: bold;
        display: inline-block;
        margin-bottom: 2rem;
    }

    .available {
        background: #d4edda;
        color: #155724;
    }

    .unavailable {
        background: #f8d7da;
        color: #721c24;
    }

    .back-btn {
        display: inline-block;
        margin-top: 1rem;
        padding: 12px 20px;
        background: var(--primary-color);
        color: white;
        border-radius: 8px;
        text-decoration: none;
        transition: 0.3s;
    }

    .back-btn:hover {
        background: var(--secondary-color);
    }
</style>

<div class="detail-container">

    <div class="detail-image">
        {% if item.image %}
        <img src="{{ item.image.url }}" alt="{{ item.name }}">
        {% else %}
        <div style="height:100%; display:flex; align-items:center; justify-content:center; font-size:5rem; opacity:0.3;">üçú</div>
        {% endif %}
    </div>

    <h1 class="detail-title">{{ item.name }}</h1>

    <p class="detail-desc">{{ item.description }}</p>

    <div class="detail-price">{{ item.price|vnd_format }} ‚Ç´</div>

    <div class="availability {% if item.is_available %}available{% else %}unavailable{% endif %}">
        {% if item.is_available %}‚úì C√≤n h√†ng{% else %}‚úó H·∫øt h√†ng{% endif %}
    </div>

    <a href="{% url 'menu' %}" class="back-btn">‚Üê Quay v·ªÅ Th·ª±c ƒê∆°n</a>

</div>

{% endblock %}
